<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5">
    <meta name="description" content="">
    <link rel="shortcut icon" href="/favicon.jpg" type="image/x-icon" />
    <title>
        
        Hexo
    </title>
    
<link rel="stylesheet" href="/css/style.min.css">

    
<link rel="stylesheet" href="/css/partial/atom-one-dark.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>
    <body>
        
            <header>
    <a class="title" href="/">
        <h1>
            Hexo
        </h1>
        
    </a>
    <nav>
        <p>
            <a href="/">首页</a><a href="/about.html">关于</a>
        </p>
    </nav>
</header>
        
        <main>
    
    <h1>
        
    </h1>
    
    <p>
        <i><time>2025/04/07 21:29:27</time></i>
    </p>
    <h1 id="Lec-2-The-LLVM-Framework"><a href="#Lec-2-The-LLVM-Framework" class="headerlink" title="Lec 2 - The LLVM Framework"></a>Lec 2 - The LLVM Framework</h1><p>[TOC]</p>
<h2 id="01-Overview-of-LLVM"><a href="#01-Overview-of-LLVM" class="headerlink" title="01 Overview of LLVM"></a>01 Overview of LLVM</h2><p>LLVM (Low Level Virtual Machine) is a modular and reusable compiler framework supporting multiple front-ends and back-ends.</p>
<h3 id="1-1-Architecture-of-LLVM"><a href="#1-1-Architecture-of-LLVM" class="headerlink" title="1.1 Architecture of LLVM"></a>1.1 Architecture of LLVM</h3><p>The job of a compiler is to convert human-friendly source code (C++, C, Java, etc.) into machine-friendly binary code (x86, ARM, etc.), which is comprised of three parts —— <strong>front-ends</strong>, <strong>optimizer</strong> and <strong>back-ends</strong>.</p>
<p>The front-ends include the <strong>preprocessor</strong>, <strong>parser</strong> and <strong>IR generator</strong>. Take a C++ compiler for example, its preprocessor expands <code>#include</code>s and <code>#define</code>s; its parser checks for syntax mistakes, builds an <strong>Abstract Syntax Tree</strong> (AST); its IR generator converts an AST into an <strong>Intermediate Representation</strong> (IR).</p>
<p>The optimizer transforms a program into an equivalent one that is more efficient, which is the focus of this course.</p>
<p>The back-ends include the <strong>compiler backend</strong>, <strong>assembler</strong> and <strong>linker</strong>. Take a C++ compiler for example, its compiler backend converts the IR into target-specific assembly code; its assembler converts the target-specific assembly code into target-specific machine code; its linker combines multiple machine code files into a single image (e.g. executable).</p>
<p>The front-ends are language-specific, i.e. they target a specific programing language, such as C++ and Clang, Go and Gollvm, Rust and Rustc, etc. The back-ends are architecture-specific, meaning that they convert assembly code into machine code that fits the target architecture (x86, ARM, etc.).</p>
<h3 id="1-2-LLVM-Passes"><a href="#1-2-LLVM-Passes" class="headerlink" title="1.2 LLVM Passes"></a>1.2 LLVM Passes</h3><p>The LLVM Optimizer (opt) is a series of “passes” that run one after another.</p>
<p>The Clang frontend, for instance, accepts a C++ source file and produces a LLVM IR. The LLVM IR is then passed to the LLVM Optimizer, which generates another LLVM IR. This iterative process (each iteration is called a “pass”) persists until the IR is accepted by the backend.</p>
<p>There are two kinds of passes – <strong>analysis</strong> and <strong>transformation</strong>:</p>
<ul>
<li>Analysis pass analyzes LLVM IR to <em>check</em> program properties</li>
<li>Transformation pass transforms LLVM IR to <em>monitor</em> or <em>optimize</em> the program</li>
</ul>
<blockquote>
<p>Note that analysis passes do not change code; transformation passes do.</p>
</blockquote>
<p>LLVM is typically extended by implementing new passes that look at and change the LLVM IR as it flows through the compilation process.</p>
<h3 id="1-3-LLVM-IR"><a href="#1-3-LLVM-IR" class="headerlink" title="1.3 LLVM IR"></a>1.3 LLVM IR</h3><p>We have introduced the concept <strong>LLVM Intermediate Representation</strong> (LLVM IR) hereinbefore. But why do we need LLVM IR? Isn’t it more convenient for LLVM optimizers to directly process the source code? Four reasons:</p>
<ul>
<li>Easy to translate from the level above</li>
<li>Easy to translate to the level below</li>
<li>Narrow interface (simpler phases&#x2F;optimizations)</li>
<li>The IR language is independent of the source and target languages in order to maximize the compiler’s ability to support multiple source and target languages</li>
</ul>
<h2 id="02-Structure-of-LLVM-IR"><a href="#02-Structure-of-LLVM-IR" class="headerlink" title="02 Structure of LLVM IR"></a>02 Structure of LLVM IR</h2><h2 id="03-The-LLVM-API"><a href="#03-The-LLVM-API" class="headerlink" title="03 The LLVM API"></a>03 The LLVM API</h2><h2 id="04-Navigating-the-Documentation"><a href="#04-Navigating-the-Documentation" class="headerlink" title="04 Navigating the Documentation"></a>04 Navigating the Documentation</h2>
    
        <hr/>
<div id="twikoo"></div>

<script src="/js/twikoo.all.min.js"></script>

<script>
    twikoo.init({
        envId: '您的环境id',
        el: '#twikoo',
        region: 'ap-guangzhou',
        lang: 'zh-CN',
    })
</script>
    
    
        <hr/>
<script src="https://beaudar.lipk.org/client.js"
        repo="mouyase/Yojigen.Tech"
        branch="main"
        issue-term="url"
        issue-label="url"
        label="Beaudar"
        theme="github-light"
        crossorigin="anonymous"
        input-position="top"
        async>
</script>
    
</main>
        
            <footer style="padding:25px 0;">
    
        
            
            <span>
                <a target="_blank" rel="noopener" href="https://www.examlpe.com/">示例网站</a>
            </span>
        
    
    <br/>
    
    <span>
        &copy; 2025
            Yojigen.Tech
    </span>
    
    <span>
        Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>
    </span>
    <span>
        Theme <a target="_blank" rel="noopener" href="https://github.com/mouyase/hexo-theme-zen">Zen</a>
    </span>
</footer>
        
    </body>
</html>